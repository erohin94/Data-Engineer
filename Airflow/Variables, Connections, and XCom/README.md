# Переменные

Переменные (Variables): Переменные в Airflow представляют собой ключ-значение пары, которые могут быть использованы для хранения конфигурационных данных и параметров, доступных в вашем рабочем процессе. Некоторые примеры использования переменных могут включать настройки подключения к базе данных, настройки авторизации и другие параметры, которые могут меняться в зависимости от окружения выполнения. Переменные можно определить и настроить через веб-интерфейс Airflow или использовать API для программного управления ими. Для доступа к переменным в коде задачи вы можете использовать объект Variable модуля airflow.models.

В Apache Airflow переменные можно создать через веб-интерфейс Airflow или с использованием API. Вот примеры создания переменных с использованием обоих подходов:

**1. Создание переменных через веб-интерфейс Airflow:**

Перейдите в веб-интерфейс Airflow (доступен по адресу http://localhost:8080).

В меню выберите «Admin» и затем «Variables».

Нажмите кнопку «Create» или «Add Variable».

Введите имя переменной (Key) и значение переменной (Value).

Нажмите кнопку «Save» или «Add».

**2. Создание переменных с использованием API:** 

Вы также можете использовать API для программного создания переменных. [Вот пример](https://github.com/erohin94/Data-Engineer/blob/main/Airflow/Variables%2C%20Connections%2C%20and%20XCom/main.py) использования API Python для создания переменной.

В моем конфиге airflow указано ```AIRFLOW__API__AUTH_BACKENDS: 'airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session'``` это значит что используется несколько методов аутентификации, а именно:

1.Basic Authentication (через заголовки Authorization с логином и паролем).
   
Если используется Basic Auth, нужно будет передавать логин и пароль в заголовке каждого запроса.

2.Session-based Authentication (через сессии, вероятно, используя куки для аутентификации после первоначальной авторизации).
Если используется Session-based Authentication, это значит, что необходимо сначала получить сессионный токен, а затем использовать его для выполнения API-запросов.
